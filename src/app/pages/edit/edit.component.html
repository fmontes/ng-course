<div class="container flex gap-16 mx-auto">
  <div class="flex-1">
    <h1 class="mb-12">Edit your page</h1>

    <form [formGroup]="form" (submit)="saveLinks($event)">
      <div class="grid grid-cols-2 gap-6 mb-12">
        <div class="flex gap-6">
          <img
            src="/assets/demo-avatar.jpg"
            alt=""
            class="block rounded-full"
            height="76"
            width="76"
          />
          <div class="m-0 form-group">
            <label for="name">Full Name</label>
            <input
              id="name"
              formControlName="name"
              type="text"
              class="w-full"
            />
          </div>
        </div>
        <div class="m-0 form-group">
          <label for="description">Description</label>
          <input id="description" formControlName="description" type="text" />
        </div>
      </div>

      <hr class="mb-8 border-primary-900" />

      <div formArrayName="items" *ngIf="items.controls.length; else noItems">
        <button type="button" (click)="addItem()">Add New Link</button>

        <div
          *ngFor="let item of items.controls; let i = index"
          [formGroupName]="i"
          class="grid grid-cols-2 gap-6 my-6"
        >
          <div class="m-0 form-group">
            <label for="title">Title</label>
            <input
              id="title"
              type="text"
              formControlName="title"
              placeholder="Title"
            />
          </div>
          <div class="m-0 form-group">
            <label for="url">URL</label>
            <input
              id="url"
              type="url"
              formControlName="url"
              placeholder="URL"
            />
          </div>
          <input type="hidden" formControlName="id" />
        </div>
        <button>Save</button>
      </div>
    </form>
  </div>
  <div class="relative" style="flex-basis: 393px">
    <app-device-preview class="fixed" style="width: 393px; height: 852px" />
  </div>
</div>

<ng-template #noItems>
  <div class="flex items-center justify-center bg-red-900 rounded-lg h-96">
    <button type="button" (click)="addItem()">Add New Link</button>
  </div>
</ng-template>
